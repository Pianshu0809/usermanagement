<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
    <h2 class="mb-4 text-center">Personal Information</h2>
    <form class="row g-3">
        <div class="col-md-6">
            <label for="txtfirstname" class="form-label">First Name</label>
            <input type="text" class="form-control" id="txtfirstname" name="firstname" (blur)="validateFirstname()"
                [(ngModel)]="fn" required>
            <span [ngClass]="{'valid': isfirstnameValid, 'invalid': !isfirstnameValid}">{{firstnameMessage}}</span>
        </div>
        <div class="col-md-6">
            <span id="resetlastname"></span>
            <label for="txtlastname" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="txtlastname" name="lastname" (blur)="validateLastname()"
                [(ngModel)]="lastname" required>
            <span [ngClass]="{'valid': islastnameValid, 'invalid': !islastnameValid}">{{lastnameMessage}}</span>

        </div>
        <div class="col-md-6">
            <span id="resetemailname"></span>
            <label for="txtemail" class="form-label">Email</label>
            <input type="email" class="form-control" id="txtemail" name="email" (blur)="validateEmail()"
                [(ngModel)]="email"  #emailRef required>
            <span [ngClass]="{'valid': isemailValid, 'invalid': !isemailValid}">{{emailMessage}}</span>
        </div>
        <div class="col-md-6">
            <span id="resetphone"></span>
            <label for="txtphone" class="form-label">Phone</label>
            <input type="tel" class="form-control" maxlength="10" id="txtphone" placeholder="9876543210"
                pattern="[0-9]{10}" name="phone" (blur)="validatePhone()" [(ngModel)]="phone" #phoneRef required>
            <span [ngClass]="{'valid': isphoneValid, 'invalid': !isphoneValid}">{{phoneMessage}}</span>
        </div>
        <div class="col-6">
            <label for="userimage" class="form-label">Upload User Image</label>
            <input type="file" class="form-control" id="userimage" accept="image/*" (change)="onFileSelected($event)">
        </div>

        <div class="col-12  mt-3">
            <img *ngIf="previewUrl" [src]="previewUrl" alt="Preview" style="max-width:200px;">
        </div>
        <div class="col-6">
            <span id="resetaddress"></span>
            <label for="txtaddress" class="form-label">Address</label>
            <input type="text" class="form-control" id="txtaddress" placeholder="1234 Main St" name="address"
                [(ngModel)]="address" (blur)="validateAddress()" required>
            <span [ngClass]="{'valid': isaddressValid, 'invalid': !isaddressValid}">{{addressMessage}}</span>
        </div>
        <div class="col-md-6">
            <span id="resetcity"></span>
            <label for="txtcity" class="form-label">City</label>
            <input type="text" class="form-control" id="txtcity" name="city" (blur)="validateCity()" [(ngModel)]="city"
                required>
            <span [ngClass]="{'valid': iscityValid, 'invalid': !iscityValid}"> {{cityMessage}}</span>
        </div>
        <div class="col-md-4">
            <span id="resetstate"></span>
            <label for="txtstate" class="form-label">State</label>
            <input type="text" class="form-control" id="txtstate" name="state" (blur)="validateState()"
                [(ngModel)]="state" required>
            <span [ngClass]="{'valid': isstateValid, 'invalid': !isstateValid}">{{stateMessage}}</span>
        </div>
        <div class="col-md-4">
            <span id="resetzip"></span>
            <label for="txtzip" class="form-label">Zip</label>
            <input type="text" class="form-control" id="txtzip" maxlength="6" placeholder="123456" name="zip"
                [(ngModel)]="zip" (blur)="validateZip()" required>
            <span [ngClass]="{'valid': iszipValid, 'invalid': !iszipValid}">{{zipMessage}}</span>
        </div>
        <div class="col-12">
            <button type="submit" class="btn btn-primary w-100" (click)="onSave(emailRef.value, phoneRef.value)">Save</button>
        </div>
    </form>
    <br>
    <p *ngIf="fname">Firstname: {{fname}}</p>
    <p *ngIf="lname">Lastname: {{lname}}</p>
    <p *ngIf="info">Information: {{info}}</p>
    
</div>
</body>
</html>

